#include <stdio.h>
#include <stdlib.h>
#include <conio.h>

int main()
{

//Создаем локацию высотой (y) = 10 и шириной(х) = 20 (+1 для символа конца строки)c
//    помощью двумерного массива символов mass.

    char mass[10][21];
//отображаем её на экране

    int i;
    int x = 10, y =5;//начальные координаты собаки(@)
    char key; //переменная для хранения нажатой клавищи
    int ox, oy;//координаты собаки до перемещения
    int ax = 5, ay = 3; //переменные координат яблака
    int a = 0; //количество сьеденных яблок
    srand (time(NULL)); //генератор случайных чисел

    do
    {
        //заполним верхнюю строку
        sprintf(mass[0],"####################");
        //заполним строки со 2 до предпоследней
        for(i = 1; i < 9; i++)
            sprintf(mass[i],"#                  #");
        // заполним нижнюю строчки локации
        sprintf(mass[9],"####################");
        //устанавливаем собаку в локацию по начальным координатам

        mass[y][x] = '@'; //отображаем собаку
        mass[ay][ax] = '*';// отображаем яблоко
        system("cls");

        for(i = 0; i < 10; i++)
            printf("%s\n", mass[i]);
        /*
        проинициализируем нашу локацию, которая будет состоять
        из пустого пространства и стен которые её ограничивают.
        пустое пространство заполним пробелами а стены символом #.
        */


        key = getch();//ожидаем нажатие клавиши

        ox = x;
        oy = y;

        if(key == 'w') y--;//вверх
        if(key == 's') y++;//вниз
        if(key == 'a') x--;//влево
        if(key == 'd') x++;//вправо

        if(mass[y][x] == '#')//если собака попадает на границу присваиваем
        {                   //ей предыдущие координаты
            x = ox;
            y = oy;
        }

        if((x == ax) && (y == ay))//если координаты собаки и яблока совпали
        {                         // даем яблоку новые координаты в пределах локации
            ax = rand() % 18 + 1;
            ay = rand() % 8 + 1;
        }


    }
    while(key != 'e');

        printf("\n Сьедено яблок = %d, a );


    return 0;
}
